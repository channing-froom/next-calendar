{"version":3,"file":"static/webpack/static/development/pages/search.js.0c1616bb344cb8a689bf.hot-update.js","sources":["webpack:///./pages/search.js"],"sourcesContent":["import { Component } from \"react\";\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { Container, Typography } from \"@material-ui/core\";\nimport ContentComponent from \"../components/Global/ContentComponent\";\nimport SearchStatsComponent from \"../components/Search/SearchStatsComponent\";\nimport SearchListComponent from \"../components/Search/SearchListComponent\";\nimport Grid from '@material-ui/core/Grid';\nimport PaperContainerComponent from \"../components/PaperContainer/PaperContainerComponent\";\nimport DividerComponent from \"../components/Global/DividerComponent\";\nimport SearchFormComponent from \"../components/Search/SearchFormComponent\";\nimport SearchService from \"../lib/services/SearchService\";\nimport { ContactsOutlined } from \"@material-ui/icons\";\nimport { thisTypeAnnotation } from \"@babel/types\";\n\n\n\nexport default class Search extends Component {\n\n    constructor(props)\n    {\n        super(props);\n\n        this.state = props\n    }\n\n    componentDidMount() {\n        if (!this.state) {\n            this.setState({...this.props})\n        }\n    }\n\n    getPageData = async (start, end) => {\n        try {\n            SearchService.ValidateDateRange(new Date(start), new Date(end))\n        } catch (e) {\n            // NEED proper error catching\n            console.log(e);\n        }\n\n        const dateResponse = await SearchService.CollectDateItems(start, end);\n\n        return dateResponse;\n    }\n\n    static async getInitialProps({query}) {\n        try {\n            SearchService.ValidateDateRange(new Date(query.start), new Date(query.end))\n        } catch (e) {\n            // NEED proper error catching\n            console.log(e);\n        }\n\n        const dateResponse = await SearchService.CollectDateItems(query.start, query.end);\n        const props = {...{transition:true}, ...query, ...dateResponse};\n\n        return props;\n    }\n\n    render() {\n        return (\n            <Container maxWidth=\"md\">\n                <Head>\n                    <title>Search page</title>\n                </Head>\n\n                <ContentComponent>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={4}>\n                            <PaperContainerComponent>\n                                <Typography variant=\"h6\" color=\"primary\">Search</Typography>\n                                <SearchFormComponent \n                                    submitHook={\n                                      async (a, b) => {\n                                          this.setState({note: null, transition: false});\n                                          const newData = await this.getPageData(a, b);\n                                          this.setState({...newData, ...{transition: true}});\n                                        }  \n                                    } />\n                                <SearchStatsComponent\n                                    daysApart={this.state.daysApart}\n                                    leapYear={this.state.hasLeapYear}\n                                    numOfMondays={this.state.amountOfMondays}\n                                />\n                            </PaperContainerComponent>  \n                        </Grid>\n\n                        <Grid item xs={12} md={8}>\n                            <SearchListComponent notes={this.state.notes} transition={this.state.transition} />\n                        </Grid>\n                    </Grid>\n                </ContentComponent>\n\n            </Container>\n        );\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;AAEA;AACA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AACA;AADA;AAQA;AARA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AACA;AAEA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AA6BA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AACA;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AADA;AASA;AACA;AACA;AAHA;AAQA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAOA;;;;;;;;;;;;AAlDA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;;AADA;AACA;AAAA;AAAA;AAEA;AACA;;;;;;;;;;;;;;;;;;AAxCA;AACA;;;;;A","sourceRoot":""}